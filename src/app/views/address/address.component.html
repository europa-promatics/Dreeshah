<!-- <app-db-header></app-db-header> -->
<app-seller-header></app-seller-header>
<div class="address-main-wrapper">
    <div class="custom-container d-flex">
        <app-sidebar></app-sidebar>
        <div class="main-wrap">
            <div class="address-wrappr">
                <div class="row">
                    <div class="col-md-12 d-flex justify-content-between">
                        <h2>Address</h2>
                        <div class="add-address-btn mb-3 text-right">
                            <button type="submit" class="CustBtn"><a routerLink="/add-address">Add New
                                    Address</a></button>
                            <!-- <button type="submit" class="btn btn-change fill" data-toggle="modal"
                                data-target="#exampleModal">Add New Address</button> -->
                        </div>
                    </div>
                    <div class="col-md-3 mb-4" *ngFor="let data of details">
                        <div class="card address-card">
                            <div class="card-body">
                                <div class="address-header">
                                    <!-- <div class="default-address">
                                        <p>Default Address</p>
                                        [color]="color"
                                         [checked]="checked"
                                         [(ngModel)]="isChecked"
                                    </div> -->
                                    <div>
                                        <mat-slide-toggle class="example-margin" color="primary"
                                            [checked]="data.is_default == 'yes' ? true : false" [disabled]="disabled"
                                            (change)=defaultAddress(data._id,$event)>

                                        </mat-slide-toggle>
                                    </div>
                                    <div class="edit-delete-icon">
                                        <a routerLink="/editaddress/{{data._id}}"><i class="fa fa-pencil mr-3"></i></a>
                                        <i class="fa fa-trash" (click)="deleteService(data)"></i>
                                    </div>
                                </div>
                                <div class="main-address-content mt-3">
                                    <p class="badge badge-primary address-title">{{data.address_type}}</p>

                                    <p>{{data.first_name}} {{data.last_name}}</p>
                                    <!-- <p>{{data.street_number}} {{data.street_name}}</p> -->
                                    <!-- <p>{{data.building_number}} {{data.building_name}}</p> -->
                                    <p style="min-height: 60px;">{{data.address_line1}} {{data.address_line2}}
                                        {{data.landmark}}</p>
                                    <p style="min-height: 40px;">{{data.city}} {{data.state}}</p>
                                    <p>{{data.country}}</p>

                                    <p>{{data.zip_code}}</p>
                                    <p>{{data.phone_number}}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- <div class="col-md-3">
                        <div class="card address-card">
                            <div class="card-body">
                                <div class="address-header">
                                    <div class="default-address">
                                        <p>Default Address</p>
                                    </div>
                                    <div class="edit-delete-icon float-right">
                                        <a routerLink="/edit-address"><i class="fa fa-pencil mr-3"></i></a>
                                        <i class="fa fa-trash"></i>
                                    </div>
                                </div>
                                <div class="main-address-content">
                                    <p class="badge badge-primary address-title">Office</p>
                                    <p>4045, School House Lane</p>
                                    <p>Opposite Well Society</p>
                                    <p>Ludhiana, Punjab, India</p>
                                    <p>878525</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card address-card">
                            <div class="card-body">
                                <div class="address-header">
                                    <div class="default-address">
                                        <p>Default Address</p>
                                    </div>
                                    <div class="edit-delete-icon float-right">
                                        <a routerLink="/edit-address"><i class="fa fa-pencil mr-3"></i></a>
                                        <i class="fa fa-trash"></i>
                                    </div>
                                </div>
                                <div class="main-address-content">
                                    <p class="badge badge-primary address-title">Office</p>
                                    <p>4045, School House Lane</p>
                                    <p>Opposite Well Society</p>
                                    <p>Ludhiana, Punjab, India</p>
                                    <p>878525</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card address-card">
                            <div class="card-body">
                                <div class="address-header">
                                    <div class="default-address">
                                        <p>Default Address</p>
                                    </div>
                                    <div class="edit-delete-icon float-right">
                                        <a routerLink="/edit-address"><i class="fa fa-pencil mr-3"></i></a>
                                        <i class="fa fa-trash"></i>
                                    </div>
                                </div>
                                <div class="main-address-content">
                                    <p class="badge badge-primary address-title">Home</p>
                                    <p>4045, School House Lane</p>
                                    <p>Opposite Well Society</p>
                                    <p>Ludhiana, Punjab, India</p>
                                    <p>878525</p>
                                </div>
                            </div>
                        </div>
                    </div> -->
                    <div class="col-md-12">
                        <div class="Load-more-link mt-5" align="center">
                            <!-- <a href="#" class="text-center">Load More</a> -->
                        </div>
                    </div>
                    <div class="col-md-12">
                        <!-- <div class="add-address-btn mt-3" align="center">
                            <button class="btn btn-change-fill" id="add-address-btn">Add New Address</button>
                        </div> -->


                        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog"
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h3 class="modal-title btn btn_green" id="exampleModalLabel">Add New Address
                                        </h3>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <form [formGroup]=addressForm class="form-horizontal" method="post" action=""
                                            enctype="multipart/form-data">

                                            <!-- <div class="form-group">
                                                <mat-checkbox class="example-margin" >Use as my Default Address</mat-checkbox>
                                            </div> -->

                                            <div class="form-group">
                                                <mat-form-field>
                                                    <mat-label>Country</mat-label>
                                                    <mat-select [(ngModel)]="selectedCountry"
                                                        (selectionChange)="selectCountry($event)" name="country"
                                                        [formControl]="addressForm.controls['country']" required>
                                                        <mat-option disabled>Select Country</mat-option>
                                                        <mat-option *ngFor="let country of countries" [value]="country">
                                                            {{country.name}}</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                                <p style="color: red; margin-top: -1.25em;"
                                                    *ngIf="addressForm.controls['country'].errors?.required && ( addressForm.controls['country'].touched || submit_button)">
                                                    Please Select Country
                                                </p>
                                            </div>

                                            <div class="form-group">
                                                <mat-form-field>
                                                    <mat-label>State</mat-label>
                                                    <mat-select [(ngModel)]="selectedState" name="state"
                                                        [formControl]="addressForm.controls['state']" required>
                                                        <mat-option disabled>Select State</mat-option>
                                                        <mat-option *ngFor="let state of states" [value]="state">
                                                            {{state.name}}</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                                <p style="color: red; margin-top: -1.25em;"
                                                    *ngIf="addressForm.controls['state'].errors?.required && ( addressForm.controls['state'].touched || submit_button)">
                                                    Please Select State
                                                </p>
                                            </div>

                                            <div class="form-group">
                                                <mat-form-field appearance="">
                                                    <mat-label>Phone Number</mat-label>
                                                    <form #f="ngForm" [formGroup]="phoneForm">
                                                        <ngx-mat-intl-tel-input [preferredCountries]="['us', 'gb']"
                                                            [enablePlaceholder]="true" [enableSearch]="true"
                                                            name="phone" (countryChanged)="countryCode($event)"
                                                            formControlName="phone" [(ngModel)]="phone">
                                                        </ngx-mat-intl-tel-input>

                                                    </form>
                                                    <!-- <input matInput placeholder="9876520510" formControlName="phone_number"
                                                            [formControl]="quotationForm.controls['phone_number']"
                                                            required> -->
                                                </mat-form-field>
                                                <div>
                                                    <mat-error
                                                        *ngIf="f.form.controls['phone']?.errors?.validatePhoneNumber">
                                                        Invalid Number</mat-error>
                                                </div>
                                                <div *ngIf="phoneForm.controls.phone.invalid && (phoneForm.controls.phone.dirty || phoneForm.controls.phone.touched || submit_button)"
                                                    class="">
                                                    <p style="color: red;"
                                                        *ngIf="phoneForm.controls.phone.errors.required">
                                                        Please Enter Phone Number
                                                    </p>

                                                </div>
                                            </div>


                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <mat-form-field appearance="">
                                                            <mat-label>First Name</mat-label>
                                                            <input matInput placeholder="First Name"
                                                                [formControl]="addressForm.controls['fname']"
                                                                [(ngModel)]="fname">
                                                        </mat-form-field>
                                                        <p style="color: red; margin-top: -1.25em;"
                                                            *ngIf="addressForm.controls['fname'].errors?.required && ( addressForm.controls['fname'].touched || submit_button)">
                                                            First Name is Required
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <mat-form-field appearance="">
                                                            <mat-label>Last Name</mat-label>
                                                            <input matInput placeholder="Last Name"
                                                                [formControl]="addressForm.controls['lname']"
                                                                [(ngModel)]="lname" required>
                                                        </mat-form-field>
                                                        <p style="color: red; margin-top: -1.25em;"
                                                            *ngIf="addressForm.controls['lname'].errors?.required && ( addressForm.controls['lname'].touched || submit_button)">
                                                            Last Name is Required
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <mat-form-field appearance="">
                                                    <mat-label>Address Line 1</mat-label>
                                                    <input matInput placeholder="Address Line 1"
                                                        [formControl]="addressForm.controls['addline1']"
                                                        [(ngModel)]="addline1">
                                                </mat-form-field>
                                                <p style="color: red; margin-top: -1.25em;"
                                                    *ngIf="addressForm.controls['addline1'].errors?.required && ( addressForm.controls['addline1'].touched || submit_button)">
                                                    Address is Required
                                                </p>
                                            </div>

                                            <div class="form-group">
                                                <mat-form-field appearance="">
                                                    <mat-label>Address Line 2</mat-label>
                                                    <input matInput placeholder="Address Line 2"
                                                        [formControl]="addressForm.controls['addline2']"
                                                        [(ngModel)]="addline2">
                                                </mat-form-field>
                                                <p style="color: red; margin-top: -1.25em;"
                                                    *ngIf="addressForm.controls['addline2'].errors?.required && ( addressForm.controls['addline2'].touched || submit_button)">
                                                    Address is Required
                                                </p>
                                            </div>
                                            <!-- <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <mat-form-field appearance="">
                                                        <mat-label>Street Number</mat-label>
                                                        <input matInput placeholder="Street Number"  [formControl]="addressForm.controls['streetNum']" 
                                                        (keypress)="numberOnly($event)"	[(ngModel)]="streetNum"> 
                                                    </mat-form-field>
                                                    <p style="color: red; margin-top: -1.25em;"
															*ngIf="addressForm.controls['streetNum'].errors?.required && ( addressForm.controls['streetNum'].touched || submit_button)">
															Field is Required
														</p>
                                                    </div>
                                            </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <mat-form-field appearance="">
                                                            <mat-label>Street Name</mat-label>
                                                            <input matInput placeholder="Street Name" [formControl]="addressForm.controls['streetName']" [(ngModel)]="streetName" required> 
                                                        </mat-form-field>
                                                        <p style="color: red; margin-top: -1.25em;"
															*ngIf="addressForm.controls['streetName'].errors?.required && ( addressForm.controls['streetName'].touched || submit_button)">
															Field is Required
														</p>
                                                    </div>
                                                </div>
                                        </div> -->
                                            <div class="row">

                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <mat-form-field required>
                                                            <mat-label>City</mat-label>
                                                            <input matInput placeholder="City"
                                                                [formControl]="addressForm.controls['city']"
                                                                [(ngModel)]="city" required>
                                                            <!-- <mat-select>
                                                                        <mat-option value="1">City1</mat-option>
                                                                        <mat-option value="2">City2</mat-option>
                                                                        <mat-option value="3">City3</mat-option>
                                                                    </mat-select> -->
                                                        </mat-form-field>
                                                        <p style="color: red; margin-top: -1.25em;"
                                                            *ngIf="addressForm.controls['city'].errors?.required && ( addressForm.controls['city'].touched || submit_button)">
                                                            Field is Required
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <mat-form-field appearance="">
                                                            <mat-label>Landmark</mat-label>
                                                            <input matInput placeholder="Area"
                                                                [formControl]="addressForm.controls['area']"
                                                                [(ngModel)]="area">
                                                        </mat-form-field>
                                                        <!-- <p style="color: red; margin-top: -1.25em;"
																	*ngIf="addressForm.controls['area'].errors?.required && ( addressForm.controls['area'].touched || submit_button)">
																	Field is Required
																</p> -->
                                                    </div>
                                                </div>
                                                <!-- <div class="col-md-6"> -->
                                                <!-- <div class="form-group">
                                                                <mat-form-field appearance="">
                                                                    <mat-label>Building Name</mat-label>
                                                                    <input matInput placeholder="Building Name" [formControl]="addressForm.controls['buildingName']" [(ngModel)]="buildingName" required> 
                                                                </mat-form-field>
                                                                <p style="color: red; margin-top: -1.25em;"
																	*ngIf="addressForm.controls['buildingName'].errors?.required && ( addressForm.controls['buildingName'].touched || submit_button)">
																	Field is Required
																</p>
                                                                </div>
                                                            </div> -->
                                                <!-- <div class="col-md-6">
                                                                <mat-form-field appearance="">
                                                                    <mat-label>Building Number</mat-label>
                                                                    <input matInput placeholder="Building Name" [formControl]="addressForm.controls['buildingNum']" 
                                                                    (keypress)="numberOnly($event)" [(ngModel)]="buildingNum"  required> 
                                                                </mat-form-field>
                                                                <p style="color: red; margin-top: -1.25em;"
                                                                        *ngIf="addressForm.controls['buildingNum'].errors?.required && ( addressForm.controls['buildingNum'].touched || submit_button)">
                                                                        Field is Required
                                                                </p>
                                                                    
                                                            </div> -->

                                                <!-- <div class="col-md-6">
                                                            <div class="form-group">
                                                                <mat-form-field>
                                                                    <mat-label>State</mat-label>
                                                                    <input matInput placeholder="State" [formControl]="addressForm.controls['state']" [(ngModel)]="state"  required>
                                                                   
                                                                </mat-form-field>
                                                                <p style="color: red; margin-top: -1.25em;"
																	*ngIf="addressForm.controls['state'].errors?.required && ( addressForm.controls['state'].touched || submit_button)">
																	Field is Required
																</p>
                                                            </div>
                                                        </div> -->

                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <mat-form-field>
                                                            <mat-label>Pin Code</mat-label>
                                                            <input matInput placeholder="Pincode"
                                                                [formControl]="addressForm.controls['pincode']"
                                                                (keypress)="numberOnly($event)" [(ngModel)]="pincode">

                                                        </mat-form-field>
                                                        <!-- <p style="color: red; margin-top: -1.25em;"
																	*ngIf="addressForm.controls['pincode'].errors?.required && ( addressForm.controls['pincode'].touched || submit_button)">
																	Field is Required
																</p> -->
                                                    </div>
                                                </div>
                                                <!-- <div class="col-md-6">
                                                            <div class="form-group">
                                                                <mat-form-field required>
                                                                    <mat-label>Phone Number</mat-label>
                                                                    <input matInput placeholder="Phone Number" [formControl]="addressForm.controls['phoneNo']" 
																	(keypress)="numberOnly($event)" [(ngModel)]="phoneNo" required>
                                                                    
                                                                </mat-form-field>
                                                                <p style="color: red; margin-top: -1.25em;"
																	*ngIf="addressForm.controls['phoneNo'].errors?.required && ( addressForm.controls['phoneNo'].touched || submit_button)">
																	Field is Required
																</p>
                                                            </div>
                                                        </div> -->
                                                <!-- <div class="col-md-12">
                                                            <div class="form-group">
                                                              <mat-form-field appearance="">
                                                                <mat-label>Search Places</mat-label>
                                                                <input matInput placeholder="Search"> </mat-form-field>
                                                            </div>
                                                        </div> -->
                                            </div>

                                            <div class="form-group">
                                                <!-- <mat-form-field> -->
                                                <mat-label>Address Type :</mat-label>

                                                <!-- <label id="example-radio-group-label">Address Type : </label> -->
                                                <mat-radio-group class="example-radio-group-new"
                                                    [formControl]="addressForm.controls['addType']"
                                                    [(ngModel)]="addType">
                                                    <mat-radio-button value="home">Home (7am-9pm, all days)
                                                    </mat-radio-button>
                                                    <mat-radio-button value="office">Office (9am-6pm, Weekdays)
                                                    </mat-radio-button>
                                                    <mat-radio-button value="other">Other</mat-radio-button>
                                                </mat-radio-group>
                                                <!-- <mat-select [formControl]="addressForm.controls['addline1']" [(ngModel)]="addline1">
                                                             <mat-option value="Home">Home</mat-option>
                                                             <mat-option value="Office">Office</mat-option>
                                                             <mat-option value="Other">Other</mat-option>
                                                         </mat-select> -->
                                                <!-- </mat-form-field> -->
                                                <p style="color: red; margin-top: -1.25em;"
                                                    *ngIf="addressForm.controls['addType'].errors?.required && ( addressForm.controls['addType'].touched || submit_button)">
                                                    Address Type is Required
                                                </p>
                                            </div>
                                            <!-- <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d13687.527532239596!2d75.84176365!3d30.94586325!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2sin!4v1602824735247!5m2!1sen!2sin" width="1000" height="450" frameborder="0" style="border:0;" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe> -->
                                            <div class="submit-btn mt-3" align="center">
                                                <button type="submit" class="btn btn-change-fill" data-dismiss="modal"
                                                    (click)="saveAddress()">Save</button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div *ngIf="details.length==0">
                <h1>No Address added Yet</h1>
            </div>
        </div>
    </div>
</div>
<app-footer></app-footer>