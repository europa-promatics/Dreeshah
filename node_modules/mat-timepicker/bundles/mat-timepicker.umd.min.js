!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/forms"),require("@angular/core"),require("@angular/material/dialog"),require("@angular/material/form-field"),require("rxjs"),require("rxjs/operators"),require("@angular/cdk/a11y"),require("@angular/cdk/coercion"),require("@angular/material/core"),require("@angular/cdk/platform"),require("@angular/material/button"),require("@angular/material/toolbar"),require("@angular/material/icon"),require("@angular/material/input"),require("@angular/common")):"function"==typeof define&&define.amd?define("mat-timepicker",["exports","@angular/forms","@angular/core","@angular/material/dialog","@angular/material/form-field","rxjs","rxjs/operators","@angular/cdk/a11y","@angular/cdk/coercion","@angular/material/core","@angular/cdk/platform","@angular/material/button","@angular/material/toolbar","@angular/material/icon","@angular/material/input","@angular/common"],t):t((e=e||self)["mat-timepicker"]={},e.ng.forms,e.ng.core,e.ng.material.dialog,e.ng.material.formField,e.rxjs,e.rxjs.operators,e.ng.cdk.a11y,e.ng.cdk.coercion,e.ng.material.core,e.ng.cdk.platform,e.ng.material.button,e.ng.material.toolbar,e.ng.material.icon,e.ng.material.input,e.ng.common)}(this,(function(e,t,i,n,a,o,s,r,l,u,h,d,c,p,m,g){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */Object.create;function f(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,a,o=i.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}return s}Object.create;function v(e){return e<10?"0"+e:""+e}function b(e,t){var i=e>=12;return"24h"===t?{hour:e,isPm:i}:0===e||12===e?{hour:12,isPm:i}:e<12?{hour:e,isPm:i}:{hour:e-12,isPm:i}}function y(e,t,i){var n=+i;return(!e||+e<=n)&&(!t||n<=+t)}function M(e,t,i,n,a,o){if(e>24||e<0||t>60||t<0)return!1;if(!i&&!n)return!0;"12h"===a&&(12===e&&"AM"===o&&(e=0),e>12&&(e-=12));var s=new Date;return s.setHours(e),s.setMinutes(t),s.setSeconds(0),s.setMilliseconds(0),y(i,n,s)}var w=function(){function e(e){var t=this;this.data=e,this.twoDigits=v,this.changeEvent=new i.EventEmitter,this.okClickEvent=new i.EventEmitter,this.cancelClickEvent=new i.EventEmitter,this.allowed24HourMap=null,this.allowed12HourMap=null,this.invalidSelection=!1,this.viewType="hours",this.isPm=!1,this.skipMinuteAutoSwitch=!1,this.autoSwitchID=null,this.invalidMedianID=null,this.hasInvalidMeridiem=!1,this.editHoursClicked=!1,this.isClosing=!1,this.okClickHandler=function(){t.hasInvalidMeridiem&&(t.isPm=!t.isPm,t.hasInvalidMeridiem=!1),t.okClickEvent.emit(t.value)},this.cancelClickHandler=function(){t.cancelClickEvent.emit()},this.isPm=e.isPm,this.bindData(e),this.value=e.value}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){e=e||this.minDate||this.maxDate||new Date,this.hours=e.getHours(),this.minutes=e.getMinutes(),this._value=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hours",{get:function(){return this._hours},set:function(e){this._hours=e,this._formattedHour=b(this.hours,this.mode).hour},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"formattedHours",{get:function(){return this._formattedHour},enumerable:!1,configurable:!0}),e.prototype.bindData=function(e){this.mode=e.mode,this.okLabel=e.okLabel,this.cancelLabel=e.cancelLabel,this.okButtonTemplate=e.okButtonTemplate,this.cancelButtonTemplate=e.cancelButtonTemplate,this.anteMeridiemAbbreviation=e.anteMeridiemAbbreviation,this.postMeridiemAbbreviation=e.postMeridiemAbbreviation,this.color=e.color,this.minDate=e.minDate,this.maxDate=e.maxDate,this.allowed12HourMap=e.allowed12HourMap,this.allowed24HourMap=e.allowed24HourMap},e.prototype.ngDoCheck=function(){this.bindData(this.data)},e.prototype.handleClockChange=function(e){var t=e.value,i=e.type,n="24h"===this.mode&&"hours"===i&&(this.hours>=12&&t<12||this.hours<12&&t>=12);(this.hasInvalidMeridiem&&"12h"===this.mode||n)&&(this.isPm=!this.isPm,this.hasInvalidMeridiem=!1),i&&"hours"===i||!i&&"hours"===this.viewType?this.hours=t:(i&&"minutes"===i||!i&&"minutes"===this.viewType)&&(this.minutes=t);var a=new Date,o=this.isPm?this.hours<12?this.hours+12:this.hours:12===this.hours?0:this.hours;a.setHours(o),a.setMinutes(this.minutes),a.setSeconds(0),a.setMilliseconds(0),this.value=a,this.changeEvent.emit(a)},e.prototype.clearInvalidMeridiem=function(){this.hasInvalidMeridiem=!1},e.prototype.handleUnavailableSelection=function(){clearTimeout(this.autoSwitchID)},e.prototype.handleClockChangeDone=function(e){var t=this;e.preventDefault(),"hours"!==this.viewType||this.skipMinuteAutoSwitch||(this.autoSwitchID=setTimeout((function(){t.editMinutes(),t.autoSwitchID=null}),300))},e.prototype.editHours=function(){var e=this;this.viewType="hours",this.editHoursClicked=!0,setTimeout((function(){e.editHoursClicked=!1}),0)},e.prototype.editMinutes=function(){this.hasInvalidMeridiem&&(this.isPm=!this.isPm,this.hasInvalidMeridiem=!1),this.viewType="minutes"},e.prototype.invalidSelectionHandler=function(e){this.invalidSelection=e},e.prototype.invalidMeridiem=function(){var e=this;if("minutes"!==this.viewType&&this.editHoursClicked){if(this.invalidMedianID)return;this.invalidMedianID=setTimeout((function(){e.isPm=!e.isPm,e.hasInvalidMeridiem=!1}),0)}else this.hasInvalidMeridiem=!0},e.prototype.meridiemChange=function(e){var t={type:this.viewType,value:"hours"===this.viewType?e:this.value.getMinutes()};this.handleClockChange(t)},e.prototype.setAm=function(){this.hours>=12&&(this.hours=this.hours-12),this.isPm=!1,this.meridiemChange(this.hours)},e.prototype.setPm=function(){this.hours<12&&(this.hours=this.hours+12),this.isPm=!0,this.meridiemChange(this.hours)},e}();w.decorators=[{type:i.Component,args:[{selector:"mat-timepicker-dialog",template:'<ng-template #defaultCancelButtonTemplate>\n  <button mat-button [color]="color" (click)="cancelClickHandler()">{{cancelLabel}}</button>\n</ng-template>\n<ng-template #defaultOkButtonTemplate>\n  <button mat-button [disabled]="invalidSelection" [color]="color" (click)="okClickHandler()">{{okLabel}}</button>\n</ng-template>\n\n<mat-dialog-content>\n  <div class="root">\n    <mat-toolbar [color]="color" class="header">\n      <div class="placeholder"></div>\n      <div class="time-frame">\n        <span class="time fixed-font-size" [ngClass]="{\'select\': this.viewType === \'hours\' && \'active\' }"\n          (click)="editHours()">\n          {{ twoDigits(formattedHours) }}\n        </span>\n        <span class="fixed-font-size">:</span>\n        <span class="time fixed-font-size" [ngClass]="{ \'select\': this.viewType === \'minutes\' && \'active\' }"\n          (click)="editMinutes()">\n          {{ twoDigits(minutes) }}\n        </span>\n      </div>\n      <ng-container *ngIf="mode === \'12h\' then ampm else normal"></ng-container>\n      <ng-template #normal>\n        <div class="placeholder"></div>\n      </ng-template>\n      <ng-template #ampm>\n        <div class="ampm">\n          <span class="time" [ngClass]="{ \'select\': isPm }"\n            (click)="setPm()">{{postMeridiemAbbreviation | uppercase }}</span>\n          <span class="time" [ngClass]="{ \'select\': !isPm }"\n            (click)="setAm()">{{anteMeridiemAbbreviation | uppercase }}</span>\n        </div>\n      </ng-template>\n    </mat-toolbar>\n    <div class="body">\n      <mat-clock [allowed12HourMap]="allowed12HourMap" [allowed24HourMap]="allowed24HourMap" [minDate]="minDate"\n        [maxDate]="maxDate" [color]="color" [viewType]="viewType" [mode]="mode" [formattedHours]="formattedHours"\n        [minutes]="minutes" (changeEvent)="handleClockChange($event)"\n        (unavailableSelection)="handleUnavailableSelection()"\n        [formattedValue]="viewType === \'minutes\' ? minutes : formattedHours" [isPm]="isPm"\n        (invalidMeridiem)="invalidMeridiem()" (mouseup)="handleClockChangeDone($event)"\n        (clearInvalidMeridiem)="clearInvalidMeridiem()" (touchend)="handleClockChangeDone($event)"\n        (invalidSelection)="invalidSelectionHandler($event)"></mat-clock>\n    </div>\n  </div>\n</mat-dialog-content>\n<mat-dialog-actions>\n  <ng-container\n    *ngTemplateOutlet="cancelButtonTemplate || defaultCancelButtonTemplate; context: { label: cancelLabel, $implicit: cancelClickHandler }">\n  </ng-container>\n  <ng-container\n    *ngTemplateOutlet="okButtonTemplate || defaultOkButtonTemplate; context: { label: okLabel, $implicit: okClickHandler }">\n  </ng-container>\n</mat-dialog-actions>',styles:["mat-dialog-content{margin-top:-24px;min-height:395px;overflow:hidden;padding:0}mat-dialog-actions{justify-content:flex-end;margin-left:-8px;margin-right:-8px}.root{min-width:282px}.header{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;align-items:center;border-top-left-radius:2px;border-top-right-radius:2px;display:flex;height:98px;justify-content:center;line-height:58px;padding:20px 0;user-select:none}.header,.header .fixed-font-size{font-size:58px}.header .time-frame{height:60px}.time{cursor:pointer;transition:all .2s ease-out}.time:not(.select){opacity:.6}.placeholder{flex:1}.ampm{display:flex;flex:1;flex-direction:column-reverse;font-size:14px;font-weight:700px;line-height:20px;margin-left:16px}.select{color:#fff}.body{display:flex;justify-content:center;padding:24px 16px 20px}"]}]}],w.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:[n.MAT_DIALOG_DATA]}]}]},w.propDecorators={changeEvent:[{type:i.Output}],okClickEvent:[{type:i.Output}],cancelClickEvent:[{type:i.Output}]};var D=function(){function e(t,n,a,s,r,l,u,h,d,c,p,m){var g=this;this.ngControl=t,this.dialog=n,this.renderer=a,this.zone=s,this.fm=r,this.elRef=l,this.ngZone=u,this._platform=h,this._parentForm=d,this._matFormFiled=c,this._parentFormGroup=p,this._errorState=!1,this._disabled=!1,this._readonly=!1,this.isAlive=new o.Subject,this.stateChanges=new o.Subject,this._uid="mat-input-"+e.nextId++,this.describedBy="",this._required=!1,this.focused=!1,this.allowed24HourMap=null,this.allowed12HourMap=null,this.isInputFocused=!1,this.okButtonTemplate=null,this.cancelButtonTemplate=null,this.okLabel="Ok",this.cancelLabel="Cancel",this.anteMeridiemAbbreviation="am",this.postMeridiemAbbreviation="pm",this.mode="24h",this.color="primary",this.disableDialogOpenOnClick=!1,this.strict=!0,this.controlType="angular-material-timepicker",this.listeners=[],this._skipValueChangeEmission=!0,this.combination=[],this.timeChange=new i.EventEmitter,this.invalidInput=new i.EventEmitter,this.clickHandler=function(e){g.modalRef&&g.modalRef.componentInstance.isClosing||g.disabled||g.disableDialogOpenOnClick||g.modalRef||g.disableDialogOpenOnClick||g.showDialog()},this.handleChange=function(e){if(e instanceof Date){var t=g.value instanceof Date?new Date(g.value.getTime()):new Date;t.setHours(e.getHours()),t.setMinutes(e.getMinutes()),t.setSeconds(0),t.setMilliseconds(0),g.currentValue=t}},this.handleOk=function(e){!g.currentValue&&e&&(g.currentValue=e),g.onChangeFn&&g.onChangeFn(g.currentValue),g.value=g.currentValue,g.modalRef.close()},this.handleCancel=function(){g.modalRef.close()},this.id=this.id,this.errorStateMatcher=m,null!=this.ngControl&&(this.ngControl.valueAccessor=this),h.IOS&&u.runOutsideAngular((function(){l.nativeElement.addEventListener("keyup",(function(e){var t=e.target;t.value||t.selectionStart||t.selectionEnd||(t.setSelectionRange(1,1),t.setSelectionRange(0,0))}))})),this._isServer=!this._platform.isBrowser}return Object.defineProperty(e.prototype,"errorState",{get:function(){var e=this._errorState,t=this._parentFormGroup||this._parentForm,i=this.ngControl?this.ngControl.control:null,n=this.errorStateMatcher?this.errorStateMatcher.isErrorState(i,t):e;return n!==e&&(this._errorState=n,this.stateChanges.next()),n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled},set:function(e){this._disabled=l.coerceBooleanProperty(e),this.focused&&(this.focused=!1,this.stateChanges.next())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e||this._uid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"readonly",{get:function(){return this._readonly},set:function(e){this._readonly=l.coerceBooleanProperty(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldLabelFloat",{get:function(){return this.focused||!this.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this._required},set:function(e){this._required=l.coerceBooleanProperty(e),this.stateChanges.next()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this._placeholder},set:function(e){this._placeholder=e,this.stateChanges.next()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){if(e!==this._value){if(this._value=e,!e)return this._formattedValueString=null,this.setInputElementValue(""),void(this.currentValue=e);var t=b(e.getHours(),this.mode),i=t.hour,n=t.isPm;this._isPm=n,this._formattedValueString="12h"===this.mode?i+":"+v(e.getMinutes())+" "+(n?this.postMeridiemAbbreviation:this.anteMeridiemAbbreviation):v(e.getHours())+":"+v(e.getMinutes()),this.isInputFocused||this.setInputElementValue(this.formattedValueString),this.currentValue=e,this.stateChanges.next(),this._skipValueChangeEmission||this.timeChange.emit(this.currentValue)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPm",{get:function(){return this._isPm},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return!(this.currentValue instanceof Date)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"formattedValueString",{get:function(){return this._formattedValueString},enumerable:!1,configurable:!0}),e.prototype.inputHandler=function(){var e,t=this.elRef.nativeElement.value,i=t.length;if(0===i)return this.writeValue(null,!0),void(this.onChangeFn&&this.onChangeFn(null));var n=t.match(/am|pm/i),a=null;n&&(t=t.replace(n[0],""),a=f(n,1)[0]);var o=t.includes(":"),s=f(1===i?[t,0]:2!==i||o?o?t.split(":"):t.split(/(\d\d)/).filter((function(e){return e})):[t,0],2),r=s[0],l=s[1];if(r=+r,/\s/.test(l)){e=f(l.split(/\s/),2),l=e[0],"pm"===e[1]&&!isNaN(r)&&r<12&&(r+=12)}if(l=+l,isNaN(r)||isNaN(l))this.writeValue(null,!0);else{r<12&&a&&"pm"===a.toLowerCase()?r+=12:r>12&&a&&"am"===a.toLowerCase()&&(r-=12),"12h"===this.mode&&+r<1?r="1":+r>24?r="24":+r<0&&(r="0"),+l>59?l="59":+l<0&&(l="0");var u=this.value?new Date(this.value.getTime()):new Date;u.setHours(+r),u.setMinutes(+l),u.setSeconds(0),u.setMilliseconds(0),y(this.minDate,this.maxDate,u)||this.invalidInput.emit(),this.writeValue(u,!0),this.onChangeFn&&this.onChangeFn(u)}},e.prototype.keydownHandler=function(e){if(e.metaKey||e.ctrlKey||e.altKey)this.combination=this.combination.concat(e.code);else if(/^[0-9a-zA-Z\s]{0,1}$/.test(e.key)){var t=e.target,i=t.value;if((""+i.slice(0,t.selectionStart)+e.key+i.slice(t.selectionEnd)).match(this.pattern)||this.combination.length>0)return!0;e.preventDefault(),e.stopImmediatePropagation()}},e.prototype.keyupHandler=function(e){this.combination=this.combination.filter((function(t){return t!==e.code}))},e.prototype.focusHandler=function(){this.isInputFocused=!0},e.prototype.focusoutHandler=function(){this.isInputFocused=!1,this.setInputElementValue(this.formattedValueString),this.onTouchedFn&&!this.modalRef&&this.onTouchedFn()},e.prototype.setDescribedByIds=function(e){this.describedBy=e.join(" ")},e.prototype.onContainerClick=function(e){"input"!==e.target.tagName.toLowerCase()&&this.elRef.nativeElement.focus()},e.prototype.setInputElementValue=function(e){var t=this;null==e&&(e=""),Promise.resolve().then((function(){t.zone.runOutsideAngular((function(){t.renderer.setProperty(t.elRef.nativeElement,"value",e)}))}))},e.prototype.validate=function(){return null===this.currentValue||void 0===this.currentValue||(this.strict?y(this.minDate,this.maxDate,this.currentValue):function(e,t,i){if(e instanceof Date){var n=new Date;n.setHours(e.getHours()),n.setMinutes(e.getMinutes()),n.setSeconds(0),n.setMilliseconds(0),e=n}if(t instanceof Date){var a=new Date;a.setHours(t.getHours()),a.setMinutes(t.getMinutes()),a.setSeconds(0),a.setMilliseconds(0),t=a}if(i instanceof Date){var o=new Date;o.setHours(i.getHours()),o.setMinutes(i.getMinutes()),o.setSeconds(0),o.setMilliseconds(0),i=o}var s=+i;return(!e||+e<=s)&&(!t||s<=+t)}(this.minDate,this.maxDate,this.currentValue))?null:{dateRange:!0}},e.prototype.ngAfterViewInit=function(){this.listeners.push(this.renderer.listen(this._matFormFiled?this._matFormFiled._elementRef.nativeElement:this.elRef.nativeElement,"click",this.clickHandler))},e.prototype.ngOnInit=function(){var e=this;this._platform.isBrowser&&this.fm.monitor(this.elRef.nativeElement,!0).subscribe((function(t){e.focused=!!t,e.stateChanges.next()}));var t=!!this.maxDate,i=!!this.minDate;(i||t)&&(i&&(this.minDate.setSeconds(0),this.minDate.setMilliseconds(0)),t&&(this.maxDate.setSeconds(0),this.maxDate.setMilliseconds(0)),Promise.resolve().then((function(){return e.generateAllowedMap()})),this.ngControl._rawValidators.find((function(t){return t===e}))||(this.ngControl.control.setValidators(this.ngControl._rawValidators.concat(this)),this.ngControl.control.updateValueAndValidity())),this._skipValueChangeEmission=!1},e.prototype.generateAllowedMap=function(){var e=this.strict&&this.value instanceof Date;if("24h"===this.mode){this.allowed24HourMap={};for(var t=0;t<24;t++)for(var i=0;i<60;i++){var n=this.allowed24HourMap[t]||{};if(e)(o=new Date(this.value.getTime())).setHours(t),o.setMinutes(i),o.setSeconds(0),o.setMilliseconds(0),n[i]=y(this.minDate,this.maxDate,o);else n[i]=M(t,i,this.minDate,this.maxDate,"24h");this.allowed24HourMap[t]=n}}else{this.allowed12HourMap={am:{},pm:{}};for(t=0;t<24;t++){var a=t<12?"am":"pm";for(i=0;i<60;i++){var o,s=t>12?t-12:0===t?12:t;n=this.allowed12HourMap[a][s]||{};if(e)(o=new Date(this.value.getTime())).setHours(t),o.setMinutes(i),o.setSeconds(0),o.setMilliseconds(0),n[i]=y(this.minDate,this.maxDate,o);else n[i]=M(t,i,this.minDate,this.maxDate,"24h");this.allowed12HourMap[a][s]=n}}}},e.prototype.ngOnChanges=function(e){this.pattern="24h"===this.mode?/^[0-9]{1,2}:?([0-9]{1,2})?$/:/^[0-9]{1,2}:?([0-9]{1,2})?\s?(a|p)?m?$/,(e.minDate&&!e.minDate.isFirstChange()&&+e.minDate.currentValue!==e.minDate.previousValue||e.maxDate&&!e.maxDate.isFirstChange()&&+e.maxDate.currentValue!==e.maxDate.previousValue||e.disableLimitBase&&!e.disableLimitBase.isFirstChange()&&+e.disableLimitBase.currentValue!==e.disableLimitBase.previousValue)&&(this.generateAllowedMap(),this.ngControl.control.updateValueAndValidity()),this.modalRef&&this.modalRef.componentInstance&&(this.modalRef.componentInstance.data={mode:this.mode,value:this.currentValue,okLabel:this.okLabel,cancelLabel:this.cancelLabel,okButtonTemplate:this.okButtonTemplate,cancelButtonTemplate:this.cancelButtonTemplate,anteMeridiemAbbreviation:this.anteMeridiemAbbreviation,postMeridiemAbbreviation:this.postMeridiemAbbreviation,color:this.color,isPm:this.isPm,minDate:this.minDate,maxDate:this.maxDate,allowed12HourMap:this.allowed12HourMap,allowed24HourMap:this.allowed24HourMap})},e.prototype.checkValidity=function(e){if(!e)return!1;var t=e.getHours(),i=e.getMinutes(),n=this.isPm?"PM":"AM";return M(t,i,this.minDate,this.maxDate,this.mode,n)},e.prototype.writeValue=function(e,t){var i=this;void 0===t&&(t=!1),t||(this._skipValueChangeEmission=!0,Promise.resolve().then((function(){return i._skipValueChangeEmission=!1}))),e&&(e.setSeconds(0),e.setMilliseconds(0)),+this.value!=+e&&(this.value=e)},e.prototype.registerOnChange=function(e){this.onChangeFn=e},e.prototype.registerOnTouched=function(e){this.onTouchedFn=e},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype.showDialog=function(){var e=this;if(!this.disabled){this.isInputFocused=!1,this.modalRef=this.dialog.open(w,{autoFocus:!1,data:{mode:this.mode,value:this.currentValue,okLabel:this.okLabel,cancelLabel:this.cancelLabel,okButtonTemplate:this.okButtonTemplate,cancelButtonTemplate:this.cancelButtonTemplate,anteMeridiemAbbreviation:this.anteMeridiemAbbreviation,postMeridiemAbbreviation:this.postMeridiemAbbreviation,color:this.color,isPm:this.isPm,minDate:this.minDate,maxDate:this.maxDate,allowed12HourMap:this.allowed12HourMap,allowed24HourMap:this.allowed24HourMap}});var t=this.modalRef.componentInstance;t.changeEvent.pipe(s.takeUntil(this.isAlive)).subscribe(this.handleChange),t.okClickEvent.pipe(s.takeUntil(this.isAlive)).subscribe(this.handleOk),t.cancelClickEvent.pipe(s.takeUntil(this.isAlive)).subscribe(this.handleCancel),this.modalRef.beforeClosed().pipe(s.first()).subscribe((function(){return t.isClosing=!0})),this.modalRef.afterClosed().pipe(s.first()).subscribe((function(){e.onTouchedFn&&e.onTouchedFn(),e.modalRef=null,e.elRef.nativeElement.focus()})),this.currentValue=this.value}},e.prototype.ngOnDestroy=function(){this.isAlive.next(),this.isAlive.complete(),this.stateChanges.complete(),this._platform.isBrowser&&this.fm.stopMonitoring(this.elRef.nativeElement),this.listeners.forEach((function(e){return e()}))},e}();D.nextId=0,D.decorators=[{type:i.Directive,args:[{selector:"input[matTimepicker]",providers:[{provide:a.MatFormFieldControl,useExisting:D}],host:{class:"mat-input-element mat-form-field-autofill-control","[class.mat-input-server]":"_isServer","[attr.id]":"id","[attr.placeholder]":"placeholder","[disabled]":"disabled","[required]":"required","[attr.readonly]":"readonly || null","[attr.aria-invalid]":"errorState","[attr.aria-required]":"required.toString()"},exportAs:"matTimepicker"}]}],D.ctorParameters=function(){return[{type:t.NgControl,decorators:[{type:i.Optional},{type:i.Self}]},{type:n.MatDialog},{type:i.Renderer2},{type:i.NgZone},{type:r.FocusMonitor},{type:i.ElementRef},{type:i.NgZone},{type:h.Platform},{type:t.NgForm,decorators:[{type:i.Optional}]},{type:a.MatFormField,decorators:[{type:i.Optional}]},{type:t.FormGroupDirective,decorators:[{type:i.Optional}]},{type:u.ErrorStateMatcher}]},D.propDecorators={disabled:[{type:i.Input}],id:[{type:i.Input}],readonly:[{type:i.Input}],shouldLabelFloat:[{type:i.HostBinding,args:["class.floating"]}],describedBy:[{type:i.HostBinding,args:["attr.aria-describedby"]}],errorStateMatcher:[{type:i.Input}],required:[{type:i.Input}],placeholder:[{type:i.Input}],okButtonTemplate:[{type:i.Input}],cancelButtonTemplate:[{type:i.Input}],okLabel:[{type:i.Input}],cancelLabel:[{type:i.Input}],anteMeridiemAbbreviation:[{type:i.Input}],postMeridiemAbbreviation:[{type:i.Input}],mode:[{type:i.Input}],color:[{type:i.Input}],disableDialogOpenOnClick:[{type:i.Input}],strict:[{type:i.Input}],minDate:[{type:i.Input}],maxDate:[{type:i.Input}],value:[{type:i.Input}],timeChange:[{type:i.Output}],invalidInput:[{type:i.Output}],inputHandler:[{type:i.HostListener,args:["input"]}],keydownHandler:[{type:i.HostListener,args:["keydown",["$event"]]}],keyupHandler:[{type:i.HostListener,args:["keyup",["$event"]]}],focusHandler:[{type:i.HostListener,args:["focus"]}],focusoutHandler:[{type:i.HostListener,args:["focusout"]}]};var x=function(){function e(){var e=this;this.color="primary",this.changeEvent=new i.EventEmitter,this.unavailableSelection=new i.EventEmitter,this.invalidMeridiem=new i.EventEmitter,this.invalidSelection=new i.EventEmitter,this.clearInvalidMeridiem=new i.EventEmitter,this.allowed12HourMap=null,this.allowed24HourMap=null,this.isFormattedValueAllowed=!0,this.meridiem=null,this.touching=!1,this.numbers=[],this.secondaryNumbers=[],this.minuteDots=[],this.invalidMeridiemEmitted=!0,this.handleTouchMove=function(t){t.preventDefault();var i=t.target.getBoundingClientRect();e.movePointer(t.changedTouches[0].clientX-i.left,t.changedTouches[0].clientY-i.top)}}return e.prototype.initIsAllowedFn=function(){var e,t,i;(this.allowed12HourMap||this.allowed24HourMap)&&(this.isAvailableFn=(e=this.allowed12HourMap,t=this.allowed24HourMap,i=this.mode,function(n,a,o,s){var r="hours"===a,l=f(r?[n,null]:[s,n],2),u=l[0],h=l[1];if("12h"===i){if(!e)return!0;var d=o?"pm":"am";return r?!!Object.values(e[d][u]).find((function(e){return!0===e})):e[d][u][h]}return!t||(r?!!Object.values(t[u]).find((function(e){return!0===e})):t[u][h])}))},e.prototype.isAvailable=function(e){return!this.isAvailableFn||this.isAvailableFn(e,this.viewType,this.isPm,this.formattedHours)},e.prototype.ngOnChanges=function(e){(e.allowed12HourMap||e.allowed24HourMap||e.mode&&!e.mode.firstChange)&&this.initIsAllowedFn(),this.calculateAngule(),this.setNumbers(),this.meridiem=this.isPm?"PM":"AM",e.formattedValue&&(this.allowed12HourMap||this.allowed24HourMap)&&(this.isFormattedValueAllowed=this.isAvailable(this.formattedValue));var t=!this.isAvailableFn||this.isAvailableFn(this.minutes,"minutes",this.isPm,this.formattedHours);t&&this.invalidMeridiemEmitted&&(this.clearInvalidMeridiem.emit(),this.invalidMeridiemEmitted=!1),this.invalidSelection.emit(!t)},e.prototype.calculateAngule=function(){this.angle=this.getPointerAngle(this.formattedValue,this.viewType)},e.prototype.setNumbers=function(){var e=this;if("hours"===this.viewType){if("12h"===this.mode){var t=this.isPm?"pm":"am",i=this.allowed12HourMap?function(i){return e.allowed12HourMap[t][i+1][0]}:void 0;this.numbers=this.getNumbers(12,{size:256},i),this.secondaryNumbers=[],this.minuteDots=[]}else if("24h"===this.mode){i=this.allowed24HourMap?function(t){return e.allowed24HourMap[t][0]}:void 0;this.numbers=this.getNumbers(12,{size:256},i),this.secondaryNumbers=this.getNumbers(12,{size:192,start:13},i),this.minuteDots=[]}}else{var n=this.isPm?"pm":"am",a=this.allowed12HourMap?function(t){return e.allowed12HourMap[n][e.formattedHours][t]}:this.allowed24HourMap?function(t){return e.allowed24HourMap[e.formattedHours][t]}:void 0;this.numbers=this.getNumbers(12,{size:256,start:5,step:5},a),this.minuteDots=this.getNumbers(60,{size:256,start:13}).map((function(e){return e.display<=59?(e.allowed=!a||a(e.display),e):(e.display=e.display-60,e.allowed=!a||a(e.display),e)})),this.secondaryNumbers=[]}},e.prototype.disableAnimatedPointer=function(){this.touching=!0},e.prototype.enableAnimatedPointer=function(){this.touching=!1},e.prototype.handleTouchEnd=function(e){this.handleTouchMove(e),this.enableAnimatedPointer()},e.prototype.handleMouseMove=function(e){if((1===e.buttons||1===e.which)&&this.touching){var t=e.target.getBoundingClientRect();this.movePointer(e.clientX-t.left,e.clientY-t.top)}},e.prototype.handleClick=function(e){var t=e.target.getBoundingClientRect();this.movePointer(e.clientX-t.left,e.clientY-t.top)},e.prototype.movePointer=function(e,t){var i=this.getPointerValue(e,t,256);this.isAvailable(i)?i!==this.formattedValue&&(this.changeEvent.emit({value:i,type:this.viewType}),"minutes"!==this.viewType&&(this.isAvailable(i)||(this.minDate&&this.isAvailable(i)?this.changeEvent.emit({value:this.minDate.getMinutes(),type:"minutes"}):this.maxDate&&this.isAvailable(i)&&this.changeEvent.emit({value:this.maxDate.getMinutes(),type:"minutes"})))):this.unavailableSelection.emit()},e.prototype.getNumbers=function(e,t,i){var n=t.size,a=t.start,o=void 0===a?1:a,s=t.step,r=void 0===s?1:s;return Array.apply(null,Array(e)).map((function(t,a){return{display:a*r+o,translateX:(n/2-20)*Math.cos(2*Math.PI*(a-2)/e),translateY:(n/2-20)*Math.sin(2*Math.PI*(a-2)/e),allowed:!i||i(a)}}))},e.prototype.getPointerAngle=function(e,t){return"hours"===this.viewType?"12h"===this.mode?30*(e-3):30*(e%12-3):6*(e-15)},e.prototype.getPointerValue=function(e,t,i){var n,a=Math.atan2(i/2-e,i/2-t)/Math.PI*180;if(a<0&&(a=360+a),"hours"===this.viewType){if("12h"===this.mode)return 0===(n=12-Math.round(12*a/360))?12:n;var o=Math.sqrt(Math.pow(i/2-e,2)+Math.pow(i/2-t,2));return 0===(n=12-Math.round(12*a/360))&&(n=12),o<i/2-32&&(n=12===n?0:n+12),n}return 60===(n=Math.round(60-60*a/360))?0:n},e}();x.decorators=[{type:i.Component,args:[{selector:"mat-clock",template:'<div class="root">\n  <div class="circle" (touchmove)="handleTouchMove($event)" (mousemove)="handleMouseMove($event)"\n    (touchstart)="disableAnimatedPointer()" (mousedown)="disableAnimatedPointer()" (touchend)="handleTouchEnd($event)"\n    (mouseup)="enableAnimatedPointer()" (click)="handleClick($event)">\n    <div class="pointer-container"\n      [ngClass]="{ \'small-pointer\': mode === \'24h\' && viewType === \'hours\' && (formattedValue === 0 || formattedValue > 12), \'animated-pointer\': !touching }"\n      [style.transform]="\'rotate(\' + angle + \'deg)\'">\n      <button mat-mini-fab [color]="color" class="inner-dot"></button>\n      <mat-toolbar [color]="color" class="pointer">\n        <button mat-mini-fab [color]="color" class="outer-dot"\n          [ngClass]=" { \'outer-dot-odd\': viewType === \'minutes\' && formattedValue % 5 !== 0 }">\n          <ng-container *ngIf="viewType === \'minutes\' && formattedValue % 5 !== 0">·</ng-container>\n        </button>\n      </mat-toolbar>\n    </div>\n    <ng-container *ngFor="let digit of minuteDots;">\n      <button mat-mini-fab class="number minute-dot"\n        [ngClass]="{ \'selected\': formattedValue === digit.display || (digit.display === 0 && formattedValue === 0), \'disabled\': !isAvailable(digit.display === 60 ? 0 : digit.display)}"\n        [style.transform]="\'translate(\' + digit.translateX + \'px, \' + digit.translateY + \'px)\'">\n        <ng-container *ngIf="digit.display % 5 !== 0">·</ng-container>\n      </button>\n    </ng-container>\n    <ng-container *ngFor="let digit of numbers;">\n      <button mat-mini-fab [color]="color" class="number"\n        [ngClass]="{ \'selected\': formattedValue === digit.display || (digit.display === 60 && formattedValue === 0), \'disabled\': !isAvailable(digit.display === 60 ? 0 : digit.display)}"\n        [style.transform]="\'translate(\' + digit.translateX + \'px, \' + digit.translateY + \'px)\'">\n        <ng-template #hoursTemplate>{{ digit.display }}</ng-template>\n        <ng-template #minutesTemplate>{{ digit.display === 60 ? \'00\' : digit.display }}</ng-template>\n        <ng-container *ngIf="viewType === \'minutes\' then minutesTemplate else hoursTemplate;"></ng-container>\n      </button>\n\n    </ng-container>\n    <ng-container *ngFor="let digit of secondaryNumbers;">\n      <button mat-mini-fab [color]="color" class="number small-number"\n        [ngClass]="{ \'selected\': formattedValue === digit.display || (digit.display === 24 && formattedValue === 0), \'disabled\': !isAvailable(digit.display === 24 ? 0 : digit.display)}"\n        [style.transform]="\'translate(\' + digit.translateX + \'px, \' + digit.translateY + \'px)\'">\n        {{ digit.display === 24 ? \'00\' : digit.display }}\n      </button>\n\n    </ng-container>\n  </div>',changeDetection:i.ChangeDetectionStrategy.OnPush,styles:[".root{cursor:default}.circle,.root{height:256px;width:256px}.circle{background:#ededed;border-radius:50%;cursor:pointer;position:relative}.number{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;align-items:center;background-color:transparent;box-shadow:none;cursor:pointer;display:flex;flex-direction:column;font-size:14px;height:32px;justify-content:center;left:calc(50% - 16px);line-height:32px;pointer-events:none;position:absolute;text-align:center;top:calc(50% - 16px);user-select:none;width:32px}.number.disabled{color:rgba(1,1,1,.1)}.number:not(.selected):not(.disabled){color:rgba(0,0,0,.87)}.number:not(.disabled).minute-dot{color:rgba(1,1,1,.7)}.number:not(.disabled).minute-dot.selected{color:transparent}.small-number{font-size:12px}.small-number:not(.selected):not(.disabled){color:rgba(0,0,0,.67)}.pointer-container{height:2;left:50%;pointer-events:none;position:absolute;top:calc(50% - 1px);transform-origin:left center;width:calc(50% - 20px)}.pointer-container.disabled *{background-color:transparent}.pointer{height:1px}.animated-pointer{transition:all .2s ease-out}.small-pointer{width:calc(50% - 52px)}.inner-dot{height:8px;left:-4px;top:-3px;width:8px}.inner-dot,.outer-dot{border-radius:50%;box-shadow:none;position:absolute}.outer-dot{box-sizing:content-box;height:32px;right:-16px;width:32px}.outer-dot-odd{align-items:center;box-shadow:none;display:flex;flex-direction:column;height:32px;justify-content:center;width:32px}"]}]}],x.propDecorators={mode:[{type:i.Input}],viewType:[{type:i.Input}],color:[{type:i.Input}],formattedValue:[{type:i.Input}],minDate:[{type:i.Input}],maxDate:[{type:i.Input}],isPm:[{type:i.Input}],formattedHours:[{type:i.Input}],minutes:[{type:i.Input}],changeEvent:[{type:i.Output}],unavailableSelection:[{type:i.Output}],invalidMeridiem:[{type:i.Output}],invalidSelection:[{type:i.Output}],clearInvalidMeridiem:[{type:i.Output}],allowed12HourMap:[{type:i.Input}],allowed24HourMap:[{type:i.Input}]};var C=function(){};C.decorators=[{type:i.NgModule,args:[{declarations:[x,D,w],imports:[g.CommonModule,n.MatDialogModule,d.MatButtonModule,c.MatToolbarModule,p.MatIconModule,m.MatInputModule],exports:[D],entryComponents:[w]}]}],e.MatTimepickerDirective=D,e.MatTimepickerModule=C,e.ɵa=x,e.ɵb=w,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=mat-timepicker.umd.min.js.map